/*
 * @package KLIKBAYI
 * @category Core
 * @author Jevuska
 * @version 1.0
 */
 
(function($){$.fn.klikbayi=function(){var i=heartbeatSettings.nonce,id=klikbayiSet.textdomain,scarea=$("textarea#shortcode"),phparea=$("textarea#phpcode"),scmain=$(".mainsc").text();phpmain=$(".mainphp").text();function generate_shortcode(){$("#generate").on("click",function(e){e.preventDefault();e.stopImmediatePropagation();var d=[],php=[];$(".table-"+id+" input:checked").each(function(){if($(this).parents("tr").find("td:nth-child(4) kbd").hasClass("active")){if($(this).val()!==''){var a=$.trim($(this).val()),values=a.replace(/"/g,"'");d.push(a);php.push(values)}}});if(d.length==0){$("textarea.shortcode-result").removeAttr('style');scarea.val(scmain);phparea.val(phpmain.substring(6,30))}else{sccode=$.trim(d.join(' ')).replace(/\s\s+/g,' ');phpcode=$.trim(php.join(",\n'")).replace(/\s\s+/gi,' ').replace(/=/g,"' => ").replace(/\n/g,"\n  ");if(sccode.length>0){scarea.val(scmain.substring(0,9)+' '+sccode+scmain.substring(9));phparea.val(phpmain.substring(6,28)+",\n array(\n  '"+phpcode+"\n )\n);");$("textarea.shortcode-result").removeAttr('style');$.each($("textarea.shortcode-result"),function(){var b=this.offsetHeight-this.clientHeight;var c=function(a){$(a).css('height','auto').css('height',a.scrollHeight+b)};c(this)})}}return false})}function select_par_shortcode(){$(".table-"+id+" tr input").each(function(){var d=$(this);d.on("click",function(e){var c=d.parents("tr").find("td:nth-child(4) kbd");c.removeClass("wp-ui-highlight active");if(d.is(":checked")){c.each(function(){var a=$(this);var b=a.closest("td").siblings("td:nth-child(3)").text();if(a.text()==b){a.off("click").css({"color":"#ccc","background":"#efefef"})}else{chs_val(a,b,c);hover_val(a)}})}else{c.each(function(){var a=$(this);a.off("click mouseenter mouseleave").css({"color":"","background":""}).parents("tr").find("input").val("");$('kbd[class=""]').removeAttr('class');$('kbd[style=""]').removeAttr('style')})}})})}function hover_val(a){a.mouseenter(function(){$("kbd:not(.active)").removeClass("wp-ui-highlight");$(this).addClass("wp-ui-highlight")}).mouseleave(function(){$("kbd:not(.active)").removeClass("wp-ui-highlight");$('td kbd[class=""]').removeAttr('class')})}function chs_val(f,g,h){f.on("click",function(e){e.stopImmediatePropagation();var a=$(this);var b=a.closest("td").siblings("td:nth-child(2)").text();var c=a.text();if(c!==g){if(f.hasClass("active")){click_highlighted(f,g)}else{var d=b+'="'+c+'"';a.parents("tr").find("td:nth-child(4) kbd").removeClass("wp-ui-highlight active");a.addClass("wp-ui-highlight active");a.parents("tr").find("input").val(d);a.css({"color":"","background":""})}}return false})}function click_highlighted(a){a.removeClass("wp-ui-highlight active");a.parents("tr").find("input").val("")}return this.each(function(){postboxes.add_postbox_toggles(pagenow);generate_shortcode();select_par_shortcode()})}}(jQuery));